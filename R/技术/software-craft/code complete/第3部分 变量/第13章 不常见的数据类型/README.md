## 第13章 不常见的数据类型

有些语言除了支持第12章“基本数据类型”所讨论的那些数据类型之外，还支持一些“奇异”的数据类型，比如结构体、指针、全局数据。

### 13.1 结构体

结构体是使用其他类型来组件的数据类型，它的应用主要在以下三方面：

- 用结构体来明确数据关系。
- 用结构体简化对数据块的操作。
- 用结构体来简化参数列表。
- 用结构体来减少维护。

### 13.2 指针

指针的使用是现代编程中最容易出错的领域之一，以至于像Java、C#和Visual Basic这些现代语言都没有提供指针数据类型。即便你的编程语言不要求使用指针，很好地理解指针也会有助于你理解你的编程语言是如何工作的。

### 13.3 全局数据

全局数据可以在程序中任意一个位置访问。如果随意使用全局变量，你可能还没有充分理解信息隐藏和模块化的意义。模块化、信息隐藏并结合使用设计良好的类可能还算不上绝对真理，但是它们能极大地提升大型程序的可理解性和可维护性。

数据纯化论者有时争论说，程序员应该绝不使用全局数据，但是按照“全局数据”这一术语的广义解释，大多数程序都使用了它。存在于数据库中的数据是全局数据，存在于配置文件如Windows注册表中的数据也是。具名常量也是全局数据，只不过不是全局变量罢了。

在许多情况下，全局数据事实上就是没有设计好或没有实现好的类中的数据。在少数情况下，一些数据的确需要作为全局数据，但是可以使用访问子程序对其进行封装，从而最大限度地减少发生问题的可能性。在剩余的极少数情况下，你真的需要使用全局数据。这时，你可以把下面的原则看做是在出游陌生国度前注射的疫苗，它们在某种程度上或许会带来些痛苦，但可以让你在旅行中更加健康。

- 创建一种命名规则来突出全局变量
- 为全部的全局变量创建一份注释良好的清单
- 不要用全局变量来存放中间结果
- 不要把所有的数据放在一个大对象中并到处传递，以说明你没有使用全局变量

## 第4章 关键的“构建”决策 / Key Construction Decisions

本章关注的焦点是程序员和技术带头人个人必须（直接或间接）负责的准备工作。在向工地进发之前，如何选择适用的工具别在你的腰带上，你的手推车里该装哪些东西？


### 4.1 选择编程语言 / Choice of Programming Language

一套好的符号系统能把大脑从所有非必要的工作中解脱出来，集中精力去对付更高级的问题，从功效上看，能够有效地提高人类的智力。

研究表明，编程语言的选择从多个方面影响生产率和代码质量：

- 程序员使用熟悉的语言时，生产率比使用不熟悉的语言时要高。
- 使用高级语言的程序员能比使用较低级的语言的程序员达到更好的生产率和质量。
- 高级语言比低级语言的表达力更强。每行代码能表达更多的含义。

程序员同样受到所用编程语言的影响。在一种编程语言中可用来表达编程思想的词汇，毫无疑问地决定了你将如何表达你的思想，甚至可能决定了你能表达什么样的思想。


### 4.2 编程约定 / Programming Conventions

在高质量软件中，你可以看到“架构的概念完整性”与“其底层实现”之间的关系。“实现”必须与（指导该实现）的“架构”保持一致，并且这种一致性是内在的、固有的。这正是变量名称、类的名称、子程序名称、格式约定、注释约定等这些针对“构建活动”的指导方针的关键所在。

任何大型的程序都需要一个控制结构，该结构可以统一编程语言的细节。大型结构的部分魅力在于，各个具体部件都能反映整体架构的内涵。假设没有一种统一的规则，你创作出来的东西将会充斥着各种不同的风格，显得混乱而糟蹋。这些不同的风格将使你的大脑承受沉重负担。成功编程的一个关键就在于避免随意地变化，这样你的大脑可以专注于那些真正需要的变化。

在“构建”开始之前，讲清楚你使用的编程约定。编码约定的细节要达到这样的精度：在编写完软件之后，几乎不可能改变软件所遵循的编码约定。

*我的理解：具体的实现需要完整表达架构的概念，其中关键的一步是要确定实现上需要遵循的统一约定，以便实现的各个部分从外观上尽可能一致和清晰。*


### 4.3 你在技术浪潮中的位置 / Your Location on the Technology Wave

“你如何面对自己的编程工作”，取决于你在技术浪潮中所处的位置。如果处在浪潮的后期，你就可以计划用大部分时间稳定持续地编写新功能。如果你处在浪潮的前期，可以预期你将要花很大一部分时间，用来找出文档中未加说明的编程语言特性、调试程序库代码缺陷带来的错误、修订代码以适应厂商提供的新版本函数库等。

正如 David Geries所言，编程工具不应该决定你的编程思路。Gries对“在一种编程语言上编程（programming in a language）”和“深入一种语言去编程（programming into a language）”做了区分。“在一种语言上编程”的程序员将他们的思想限制于“语言直接支持的那些构件”。如果语言工具是初级的，那么程序员的思想也是初级的。

“深入一种语言去编程”的程序员首先决定他要表达的思想是什么，然后决定如何使用特定语言提供
的工具来表达这些思想。

理解“在一种编程语言上编程”和“深入一种语言去编程”的区别，对于理解本书是至关重要的。大多数重要的编程原则并不依赖特定的语言，而依赖于你使用语言的方式。如果你使用的语言缺乏你希望用的构件，或者倾向于出现其他种类的问题，那就应该试着去弥补它。发明你自己的编码约定、标准、类库以及其他改进措施。


## 4.4 选择主要的构建实践方法 / Selection of Major Construction Practices

“构建”有一部分准备工作，就是决定在这么多的可选的实践方法中，你想要强调哪些。某些项目使用结对编程以及测试驱动开发，而其他项目使用单人开发和形式化检查。这两种技术组合都有可能发挥作用，取决于项目的特定环境。

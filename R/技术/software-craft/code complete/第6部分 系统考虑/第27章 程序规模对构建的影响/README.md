## 第27章 程序规模对构建的影响

如果你习惯于开发小项目，那么你的第一个中大型项目有可能严重失控，它不会像你憧憬的那样成功，而会变成一头无法控制的野兽。本章将告诉你会遇到些什么野兽，以及到哪里去找鞭子和铁链来驯服它。与此相对的是，如果你已经习惯于开发大型项目，那么你所用的方法可能对于小项目来说太正规了。本章将讲述怎样进行节约，防止小项目被自己的额外负担压垮。

### 27.1 交流和规模

随着项目成员数目的增加，交流路径的数量也随之增加。但是二者的关系并不是加性的，而是乘性的。即交流路径的条数大致正比于人数的平方。交流路径越多，你花在交流上的时间就越多，因交流而出错的机会也就越大。更大的项目要求采取一些组织技术来改善交流效率，或者有意识地对其加以限制。

改善交流效率的常用方法是采用正式的文档。不是让50个人以各种可能方式相互交流，而让他们阅读和撰写文档。有些文档是文本，有些是图形。有些文档需要打印出来，有些则是电子格式。

### 27.2 项目规模的范围

项目规模的范围很宽，这也就意味着不能把任何一种规模视为典型。评估项目规模的方法之一是考虑项目团队的规模。

### 27.3 项目规模对错误的影响

项目的规模既会影响错误的数量，也会影响错误的类型。在小项目中，构建错误大约占所有被发现错误的75%。方法论对于代码质量的影响不大，对应用程序质量影响最大的通常是编写程序的各个开发者的技能。

### 27.4 项目规模对生产率的影响

对于小项目，影响生产率的最大因素莫过于单个程序员的技巧。随着项目规模和团队规模的增大，组织方式对生产率的影响也将随之增大。小项目的生产率会比大项目高出2至3倍，并且最小的项目和最大的项目的生产率差距可能达到5到10倍之巨。

项目多大时团队规模就会开始影响生产率呢？在“Prototyping Versus Specifying: a Multiproject Expriment”一文中，Boelim, Gray和Seewaldt报告说，完成项目的小型团队的生产率要比大型团队高出39%。那么这些团队各有多少人呢？答案是：小项目两个人，大项目三个人。

### 27.5 项目规模对开发活动的影响

对于小型项目，构建尤为最主要的活动，它占了整个开发时间的差不多65%。对于中型项目，构建仍是处于主导地位的活动，但是它所占的比例已经下降到了大约50%。对于非常大的项目，架构、集成和系统测试占去了更多的时间，而构建活动变成不再那么占主导地位了。简而言之，随着项目规模的增大，构建活动在整个工作量中所占的比重将逐渐减小。

构建活动的主导地位下降的原因是，随着项目增大，构建活动——详细设计、编码、调试和单元测试——将会按比例增长，但是其他很多活动增长得更快。

*不论项目的规模如何，有些技术总是很有价值的：有训练的编码实践、让其他开发者审查设计和代码、好的工具支持，以及使用高级语言。这些技术对小项目很有价值，对大项目的价值更是无法衡量。*

1）程序、产品、系统和系统产品

- 最简单的一类软件是一个单一的“程序”，只有它的开发者使用它，或者其他少数几个人非正式使用它。
- 稍复杂些的一类程序是软件“产品”，它打算共给最初开发者以外的人员使用。发布之前要做充分的测试，要有文档，并且可以由其他人维护。开发软件产品的成本大约是开发软件程序的3倍。
- 更复杂一些的是开发一组能够结合起来工作的程序，它通常被称为“系统”。开发一个系统要比简单的程序复杂得多，因为集成各组成部分的接口会复杂。系统的开发成本也是简单程序的3倍。
- “系统产品”既要具有单一产品的精致特征，又要拥有一套系统所需具备的多个成分。系统产品的开发成本大约是简单程序的9倍。

没能认识到程序、产品、系统以及系统产品在精致度和复杂度上的区别，是导致估算出偏差的一个常见原因。

2）方法论和规模

各种方法论都被用于不同大小的项目。对于小项目，方法论的应用显得很不经意并且趋于本能。对于大项目，它们的应用变得十分严格，并且计划得非常仔细。项目越大，复杂度也越大，也就越要求有意识地去关注方法论。在实践中最关键的是要考虑你的项目的实际规模和类型，然后找出“适量级”的方法论。

## 第20章 软件质量概述

### 20.1 软件质量的特性

软件同时拥有外在的和内在的质量特性。外在特性指的是该产品的用户所能够感受到的部分，包括正确性、可用性、效率、可靠性、完整性、适应性、精确性和健壮性等。内在特性中的质量特性是本书的主要内容，包括可维护性、灵活性、可移植性、可重用性、可读性、可测试性和可理解性等。

质量的外在特性是用户关心的唯一软件特性。用户只会关心软件是否容易使用，而不会关心对于程序员来说修改是否容易。他们关心软件是否能正确运行，而不关心里面的代码是否可读，或者是否有良好的结构。而程序员除了关心软件质量的外在特性之外，还要关心它的内在特性。

要让所有特性都能表现得尽善尽美是绝无可能的。需要根据一组互相竞争的目标寻找出一套优化的解决方案，正是这种情况使软件开发成为一个真正的工程学科。关注某一个特性并非意味着必须牺牲另一个特性。有时一个特性会对另一个特性有所损害，有时候二者相互促进，而有时候它们毫不相干。在任何一个项目中，两个特性之间的关系可能会与典型的关系不同。思考以下软件的特定质量目标，以及每一对目标之间的相互关系，是相互促进还是相互制约，这将是很有意义的一件事情。

### 20.2 改善软件质量的技术

软件质量保证是一个需要预先计划的、系统性的活动，其目标就是为了确保系统具备人们所期望的特性。软件质量中常见的一些要素包括软件质量目标、明确定义质量保证工作、测试策略、软件工程指南、非正式技术复查、正式技术复查、外部审查。

1）开发过程

相对于没有质量保证活动的开发流程，具备该活动的开发流程能生产出更好的软件。开发过程中涉及到的质量保证活动包括对变更进行控制的过程、结果的量化和制作原型。

2）设置目标

明确设置质量目标是开发高质量软件的一个简单而清晰的步骤，但它常被忽视。如果设置了明确且合理的目标，程序员会朝着这个方向努力。因为程序员有很高的成就激励：他们会向明确的目标进发，但必须有人告诉他们目标是什么。此外，不同目标之间有冲突，软件通常都不可能在所有方面都做的好。

### 20.3 不同质量保障技术的相对效能

各种质量保证方法的效能并不相同，某些方法在检测缺陷方面比其他方法更加有效，而且不同的方法能找出不同类型的缺陷。如果项目的开发者要向更高的缺陷检测率发起冲击，他们需要综合运用各种技术。

某些缺陷检测方法的成本比其他方法要高。最经济的方法应当是找出缺陷的成本最低，而在其他方面同别的方法并无二致。大部分研究都发现，检查要比测试的成本更小，研究发现阅读代码每小时能够检测出的缺陷要比测试高出80%左右（Basili and Selby 1987），另一个组织则发现使用测试来检测缺陷的成本是检查的6倍（Ackerman, Buchwald and Lewski 1989）。

一个有效的软件质量项目的底线，必须包括在开发的所有阶段联合使用多种技术。下面是一套推荐阵容，通过它们可以获取高于平均水平的质量：

- 对所有的需求、架构以及系统关键部分的设计进行正式检查
- 建模或者创建原型
- 代码阅读或者检查
- 执行测试

### 20.4 什么时候进行质量保证工作

错误越早引入到软件当中，问题就会越复杂，修正这个错误的代价也更高，因为错误会牵涉到系统的更多部分。所以尽早捕捉错误才能更有效地节省成本。

缺陷可能在任何阶段渗透到软件中。因此需要在早期阶段就开始强调质量保证工作，并且将其贯彻到项目的余下部分中。当整个工作结束的时候检验产品的质量。

### 20.5 软件质量的普遍原理

软件质量的普遍原理就是改善质量以降低开发成本。理解这一原理依赖于理解一个很容易观察到的关键事实：提高生产效率和改善质量的最佳途径就是减少花在这种代码返工上的时间，无论返工的代码是由需求、设计改变还是调试引起的。软件产品的业界平均生产效率大约是每人每天10到50行最终提交代码（包括所有非编码开支）。

生产率显得如此低下的部分原因是这样的业界平均值把非程序员花费的时间也纳入了计算，比如测试人员、项目经理、行政支持，还包括诸如需求开发和架构设计等非编码工作。但主要原因是调试及修正无法正常工作的代码，这些工作在传统的不成熟的软件开发周期中可能消耗大约50%的时间。因此，效果最明显的缩短开发周期的办法就是改善产品的质量，由此减少花费在调试和软件返工上面的时间总量。

字符串是除了数字之外最重要的数据类型，因为其应用的场景非常之广。字符串中的字符会涉及到编码格式。

# 基础概念

- Python中字符串变成了一种强大的处理工具集，这点与C语言不同。
- Python没有单个字符这种类型，取而代之的是可以使用一个字符的字符串。
- Python字符串被划分为不可变序列这一类别，意味着这些字符串所包含的字符存在从左至右的位置顺序，并且它们不可以在原处修改。
- 除了核心系列的字符串工具以外，Python通过标准库re模块还支持更高级的基于模式的字符串处理。
- Python中单引号和双引号字符是一样的。
- Python中，零（空）字符不会像C语言那样去结束一个字符串。
- raw字符串抑制转义：字母r/R出现在字符串的第一个引号的前面。
- 三重引号编写多行字符串块。

# 基本操作

- 字符串可以通过+操作符进行合并，并且可以通过*操作符进行重复。
- 可以使用in表达式对字符和子字符串进行成员关系的测试，in很像str.find()方法，只不过它返回布尔结果而不是子字符串的位置。

# 索引和切片

字符串提供两种索引：

- 正偏移：0开始的正数索引，从字符串第一个字符开始，0指向第一个元素。
- 负偏移：-1开始的负数索引，从字符串末尾往前访问，-1指向最后一个元素。
- Python2.3 之后为分片表达式增加了可选的第三个索引，用作步进。`[::-1]`表示反转字符串。

从字符串提取子串即是切片操作，可以通过指定两个索引来完成，第一个索引表示切片的起始位置，第二个索引表示切片索引的下一个位置。

- str[:5]等价于str[0:5]。
- str[5:]等价于str[5:len(str)]。
- str[:]等价于str[0:len(str)]。
- 使用负数索引进行切片需要遵从按照字符串从左到右的顺序。

# 字符串函数

字符串本身带有大量的函数：

- 测试函数，如s.isalnum()。
- 搜索函数，如s.find('substring')，s.rfind('substring')。
- 改变大小写的函数，如s.lower()。（注：创建新的字符串，原字符串并未更改。）
- 格式设置函数，如'{0} likes {1}'.format('jack', 'icecream')。
- 剥除函数，如s.strip(c), s.lstrip(c), s.rstrip(c)。
- 拆分函数，如s.partition(c),s.split(c)。
- 替换函数，如s.replace(soucechar, targetchar)。
- 其他函数，如s.count(c), s.join(sequence)。
- 转换工具，如int("42"), str(42), float("1.5")。

```
txt = "Hello, welcome to my world."
if (-1 == txt) # not find
```

# 字符串修改

字符串修改有两种方法。第一种方法是利用合并、分片这样的工具来建立并赋值给一个新的字符串，可以将新的结果赋值给字符串最初的变量名：

```
S = S + 'SPAM!'
S = S[:4] + 'Burger' + S[-1]
```

每修改一次字符串就生成一个新字符串对象并不像听起来效率那么低——Python在运行过程中对不再使用的字符串对象自动进行垃圾收集，所以新的对象重用了前面值所占用的空间，其效率往往超出你的预期。

第二种方法是将字符串转换为一个支持原处修改的对象，比如：

```
S = 'spammy'
L = list(S)
L[3] = 'x'
S = ''.join(L)
```

## 字符串格式化

字符串格式化允许在一个单个的步骤中对一个字符串执行多个特定类型的替换。它不是严格必须的，但它很方便使用，特别是当格式化文本以显示给程序的用户的时候。Python的字符串格式化支持两种形式：

1.字符串格式化表达式

基于C语言“printf”模型：在%操作符左侧放置需要格式化的字符串，右侧放置一个或多项的元组。

```
"%s -- %s -- %s" % (42, 3.14159, [1,2,3])
```

2.字符串格式化方法调用

字符串对象拥有了新的format方法来完成格式化，它使用主体字符串作为模板，并且接受任意多个表示将要根据模板替换的值的参数，比如：

```
"{motto}, {0} and {food}".format(42, motto=3.14, food=[1,2])
# 输出：'3.14, 42 and [1,2]'
```

像%表达式和其他字符串方法一样，format创建并返回一个新的字符串对象，它可以立即打印或保存起来方便以后使用。并且格式化调用也可以变得更复杂来支持更多高级用途。

## 正则表达式

当处理字符串的时候其本身提供的功能不能满足要求时，便可以使用更强大的工具——正则表达式。正则表达式用特定的语法编写单个字符串，以用来描述、匹配一系列字符串。
